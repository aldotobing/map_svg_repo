<svg id="numberCircle" width="64" height="64" xmlns="http://www.w3.org/2000/svg">
  <!-- Transparent background -->
  <rect width="100%" height="100%" fill="none" />

  <!-- Semi-ellipse shape -->
  <path id="semiEllipse" d="M32 4a28 28 0 0 1 28 28h-56a28 28 0 0 1 28-28z" fill="#ccc" stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />

  <!-- Dynamic number -->
  <text id="number" x="32" y="32" text-anchor="middle" alignment-baseline="central" font-family="Arial" font-size="20" fill="#fff">123</text>

  <script>
    const svgElement = document.getElementById('numberCircle');
    const semiEllipseElement = document.getElementById('semiEllipse');
    const numberElement = document.getElementById('number');

    // Function to adjust the semi-ellipse path based on the text width
    function adjustSemiEllipsePath(text) {
      const textWidth = numberElement.getComputedTextLength();
      const radius = textWidth / 2 + 8; // Add 8 to account for some padding
      const pathData = `M${radius + 4} 32a${radius} ${radius / 2} 0 0 1 ${radius * 2} 0h-${radius * 2}a${radius} ${radius / 2} 0 0 1 ${radius * 2} 0z`;
      semiEllipseElement.setAttribute('d', pathData);
    }

    // Initial adjustment
    adjustSemiEllipsePath(numberElement.textContent);

    // Adjustment on text change
    numberElement.addEventListener('DOMCharacterDataModified', () => {
      adjustSemiEllipsePath(numberElement.textContent);
    });
  </script>
</svg>
